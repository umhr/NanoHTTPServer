<!doctype html>
<html lang="ja">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<title>水玉映像｜AfterEffects Tips : Expression studies</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
<nav class="navbar navbar-inverse">
  <div class="container-fluid"> 
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#defaultNavbar1" aria-expanded="false"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
      <a class="navbar-brand" href="index.html">水 玉 映 像</a></div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="defaultNavbar1">
      <ul class="nav navbar-nav">
        <li class="active"><a href="aetips.html">A.E. Tips : Expression studies<span class="sr-only">(current)</span></a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="http://mztm.jp">Mizutama Inc.</a></li>
      </ul>
    </div>
    <!-- /.navbar-collapse --> 
  </div>
  <!-- /.container-fluid --> 
</nav>
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <h1>A.E. Tips : Expression studies</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3">
      <ul class="nav nav-pills nav-stacked">
        <li><a href="aetips.html">Index</a></li>
        <li><a href="aetips_ex_basic.html">Basic</a></li>
        <li class="active"><a href="#">Library</a></li>
    <ul class="nav nav-pills nav-stacked">
    <li><a href="#013">　013.Leak</a></li>
    <li><a href="#012">　012.Mercurial</a></li>
    <li><a href="#011">　011.Dyed</a></li>
    <li><a href="#010">　010.Turbid2</a></li>
    <li><a href="#009">　009.Turbid1</a></li>
    <li><a href="#008">　008.Dew</a></li>
    <li><a href="#007">　007.Mist</a></li>
    <li><a href="#006">　006.Hail</a></li>
    <li><a href="#005">　005.Swirl</a></li>
    <li><a href="#004">　004.Rainbow-colored</a></li>
    <li><a href="#003">　003.Cascade</a></li>
    <li><a href="#002">　002.Trickle</a></li>
    <li><a href="#001">　001.Ice cubes</a></li>
            </ul>
        <li><a href="aetips_ex_feature.html">Feature</a></li>
        <li><a href="aetips_ex_reference.html">Reference</a></li>
        <li><a href="aetips_ex_links.html">Links</a></li>
      </ul>
                <br />
      <div class="well"><img src="images/aeicon.png" class="pull-left img-responsive" style="padding:0;margin:0px 5px 0px 0px;" width="48" height="49" alt="aeicon"><h6 class="clearfix">プロジェクトファイル（.aep）<a href="https://github.com/umhr/AE_ExpressionStudies" target="_blank">公開中！</a></h6><a href="https://github.com/umhr/AE_ExpressionStudies/archive/master.zip" class="btn btn-primary center-block btn-sm" role="button" target="_blank"><span class="glyphicon glyphicon-download-alt"></span> Download from GitHub</a></div>
      
      <div class="well">
        <a href="https://db.tt/9Lf5o7Z" target="_blank"><img src="images/dbbanner155x65.png" class="img-responsive center-block" width="155" height="65" alt="aeicon"></a><h6>無料で2GBのオンラインストレージ！
このバナーから登録するとあなたと私（このサイト開設者）双方に500MBのボーナス！</h6><a href="https://db.tt/9Lf5o7Z" class="btn btn-primary center-block btn-sm" role="button" target="_blank">500MBボーナスをつけて登録！</a></div>

    </div>
    <div class="col-md-9">
      <h2>Library</h2>
      <div class="panel panel-default">
        <div class="panel-body">Expressionの使用例です。解説は簡易的なものですがプロジェクトファイル（.aep）を開いて見れば、さらに理解が深まるでしょう。</div>
      </div>
      <iframe width="640" height="480" src="https://www.youtube.com/embed/wY33oeOzjKU?rel=0" frameborder="0" class="center-block" allowfullscreen></iframe>
      <br />
      <div class="well"><img src="images/aeicon.png" width="48" height="49" alt="aeicon"> プロジェクトファイル（.aep）<a href="https://github.com/umhr/AE_ExpressionStudies" target="_blank">公開中！</a><a href="https://github.com/umhr/AE_ExpressionStudies/archive/master.zip" class="btn btn-primary pull-right" role="button" target="_blank"><span class="glyphicon glyphicon-download-alt"></span>  Download from GitHub</a></div>
<div class="row">
        <div class="col-lg-6">
          <div class="thumbnail"><a name="013"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/GJI0xxrgbTY?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>013.Leak</h3>
              010.Turbid2と原理は一緒ですが、カメラを動かしてみました。
</div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="thumbnail"><a name="012"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/W8fOetHYUmc?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>012.Mercurial</h3>
              動きに合わせて、音を変化させています。
            </div>
          </div>
        </div>
      </div>

      
      <div class="row">
        <div class="col-lg-6"><a name="011"></a>
          <div class="thumbnail">
            <iframe width="400" height="300" src="https://www.youtube.com/embed/g9OI3FrXuKo?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>011.Dyed</h3>
              ブラシアニメーションの位置をヌルオブジェクトの位置から取り出しています。
              エフェクトの位置指定をベジェで描けないものも、これで解決できます。
</div>
          </div>
        </div>
        <div class="col-lg-6"><a name="010"></a>
          <div class="thumbnail">
            <iframe width="400" height="300" src="https://www.youtube.com/embed/QTxK9FneUhw?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>010.Turbid2</h3>
              009.Turbid1では軌跡が固定していましたが、後半で軌跡が移動します。<br />
              <code>ease(t,val1,val2)</code>を使って、軌跡を動かしています。3:00～5:00にかけて、<code>null</code>の軌跡から、<code>null2</code>の軌跡に移動します。
              <pre>num = (name.slice(2,4)-(4-name.length)*10);
val1 = this_comp.layer("null").position.value_at_time(time-num/7);
val2 = this_comp.layer("null2").position.value_at_time(time-num/7);
ease((time-3)/2,val1,val2);</pre>
              
              
            </div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-6">
          <div class="thumbnail"><a name="009"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/f5P5Kh1F990?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>009.Turbid1</h3>
              複数のレイヤーが同じ軌跡をとって動きます。レイヤー毎にキーフレームをうって位置を指定するよりも、後からのタイミング、軌跡調整が簡単にできます。また、レイヤー名を参照してずれを作っているので、一覧性が高く、修正も簡単です。
              レイヤーはたくさんありますが、エクスプレッションは全く同じです。<br />
              <pre>num = (name.slice(2,4)-(4-name.length)*10);
this_comp.layer("null").position.value_at_time(time-num/7)</pre>
              一行目：レイヤー名から、ユニークな値を取り出している。<br />
              →位置のずらすため。<br />
              →各レイヤーごとにエクスプレッションの<code>num</code>の値を書き換えるよりも、扱いやすい。<br />
              二行目：<code>null</code>から時間をずらして位置を指定します。
</div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="thumbnail"><a name="008"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/V41aJEorN2k?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>008.Dew</h3>
              カメラを動かしてスピード感を出しています。
              ヌルオブジェクトの位置はコンポジションビューに軌跡が出るので、調整しやすい場合があります。
            </div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-6">
          <div class="thumbnail"><a name="007"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/fVzAgzKKO7c?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>007.Mist</h3>
              <a href="http://www.imaginaryforces.com/" target="_blank">Imaginary Forces</a>の作品を参考にしました。その２。<br />
              位置のzの値を<code>null</code>のスライダから取り出しています。レイヤーの順位をを<code>index</code>で取り出して乗算しているので、レイヤーが深いものほど原点から遠くに配置されます。
            <pre>[0,0,this_comp.layer("null").effect("スライダ制御").param("スライダ")*index]</pre></div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="thumbnail"><a name="006"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/8QSac10x6_o?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>006.Hail</h3>
              005.Swirlのアレンジバージョン。基本的な設定はほとんど変わりませんが、「カメラに向かって方向を設定」を使っています。
            </div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-6">
          <div class="thumbnail"><a name="005"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/R6EYIsJ6Idg?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>005.Swirl</h3>
              <a href="http://www.imaginaryforces.com/" target="_blank">Imaginary Forces</a>の作品を参考にしました。<br />
                位置をレイヤー名からとっています。<br />
<pre>[name.split("/",2)[0]*10,(name.split("/",2)[1].length-1)*10-1]</pre><br />
x座標を<code>/</code>より前の値で、y座標を<code>/</code>より後の文字数で設定しています。

            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="thumbnail"><a name="004"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/Yp9x54krLvA?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>004.Rainbow-colored</h3>
              カラーカーブでは２色間のグラデーションを生成しますが、組み合わせることによって、３色以上のグラデーションを作ることも可能です。
ここでは、７色で虹色を表現しました。指定色の位置変更をスムーズに行うために、<code>sort()</code>を利用しています。

            </div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-6">
          <div class="thumbnail"><a name="003"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/5ULD5AznbHg?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>003.Cascade</h3>
              リニアワイプの位置と色の帯を作る位置を同期させています。
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="thumbnail"><a name="002"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/QgunmeDu2lY?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>002.Trickle</h3>
              多数のオブジェクトをマトリクス状に配置する際、位置(x,y)を、レイヤー名に情報を持たせて、Expressionで配置すると効率がいい場合があります。ここでは例２の方法をお見せします。<br />
例１：レイヤー名<code>100/200</code>、位置(Exp.)<code>name.split("/",2)</code>で、位置(x,y)が<code>100,200</code>になります。<br />
→単純だが、レイヤー毎に入力するのはめんどう。<br />
例２：レイヤー名<code>03**</code>、位置(Exp.)<code>[name.slice (0,2)*50,(name.length-2)*50,0]</code>で、位置(x,y,z)が<code>150,100,0</code>になります。<br />
→レイヤーを複製すると、自動的に*が付加されるので、位置(y)の設定が楽。あらかじめ位置(x)の桁数を考慮しないといけない。<br />
例３：レイヤー名<code>50.5/******</code>、位置(Exp.)<code>[name.split("/",2)[0],name.split("/",2)[1].length]</code>で、位置(x,y)が<code>50.5,6</code>になります。<br />
→位置(x)の桁数は任意。

            </div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-6">
          <div class="thumbnail"><a name="001"></a>
            <iframe width="400" height="300" src="https://www.youtube.com/embed/dKNwzP4CI-E?rel=0&amp;showinfo=0" class="center-block" frameborder="0" allowfullscreen></iframe>
            <div class="caption">
              <h3>001.Ice cubes</h3>
              ヌルオブジェクトを中心に、平面を組み合わせて立方体を作り、８個それぞれのヌルオブジェクトの<code>rotation</code>のx,y,z軸をずらして制御する値にリンクしています。
            </div>
          </div>
        </div>
      </div>
      
      <br />
      <div class="well"><img src="images/aeicon.png" width="48" height="49" alt="aeicon"> プロジェクトファイル（.aep）<a href="https://github.com/umhr/AE_ExpressionStudies" target="_blank">公開中！</a><a href="https://github.com/umhr/AE_ExpressionStudies/archive/master.zip" class="btn btn-primary pull-right" role="button" target="_blank"><span class="glyphicon glyphicon-download-alt"></span> Download from GitHub</a></div>
      
</div>
  </div>
</div>
<script src="js/jquery-1.11.3.min.js"></script> 
<script src="js/bootstrap.js"></script>
<script src="js/google-code-prettify/prettify.js"></script>
<link rel="stylesheet" href="js/google-code-prettify/prettify.css">
<script type="text/javascript">
$(function () {
  $("pre").addClass("prettyprint linenums");
  prettyPrint();
});
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1390848-2', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
